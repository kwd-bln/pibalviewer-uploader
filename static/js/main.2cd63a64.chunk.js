(this["webpackJsonppibalviewer-uploader"]=this["webpackJsonppibalviewer-uploader"]||[]).push([[0],{19:function(e,t,a){e.exports=a(31)},24:function(e,t,a){},25:function(e,t,a){},31:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(11),i=a.n(r),u=(a(24),a(17)),c=a(1),s=a(12),o=a(13),d=a(15),m=a(18),h=a(16);var p=function(){return"10PBseNd11"},v=function(e){Object(m.a)(a,e);var t=Object(d.a)(a);function a(e){var n;return Object(s.a)(this,a),(n=t.call(this,e)).state={subject:"",body:"",date:new Date,isMorning:!0,winds:[]},n}return Object(o.a)(a,[{key:"handleChangeSubject",value:function(e){var t=function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],a=e.match(/(\d{1,2}):(\d{1,2})[^\d]+(\d{1,2})(st|nd|rd|th)/);if(!a)return console.log("this does not include time and date"),null;var n=Number(a[1]),l=Number(a[2]),r=Number(a[3]),i=t.find((function(t){return e.includes(t)}));if(i){var u=t.indexOf(i),c=(new Date).getFullYear();return new Date(c,u,r,n,l)}return null}(e.currentTarget.value);t?this.setState({subject:e.currentTarget.value,date:t,isMorning:t.getHours()<12}):this.setState({subject:e.currentTarget.value})}},{key:"handleChangeBody",value:function(e){var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:/(\d{3,4})m (\d{1,3})\xb0 (\d+.\d)kt/,a=e.split(/\r\n|\r|\n/),n=[];return a.forEach((function(e){var a=e.match(t);if(a&&a.length>=4){var l={height:Number(a[1]),degree:Number(a[2]),speed:Number(a[3])};n.push(l)}})),n}(e.currentTarget.value);this.setState({body:e.currentTarget.value,winds:t})}},{key:"handleChangeSmallInput",value:function(e,t){}},{key:"handleClickButton",value:function(){var e=this;if(this.state.winds.length<=0)window.alert("\u30d1\u30a4\u30d0\u30eb\u30c7\u30fc\u30bf\u304c\u672a\u5165\u529b\u3067\u3059\u3002");else if(this.state.winds.length>=40)window.alert("\u30c7\u30fc\u30bf\u304c\u591a\u3059\u304e\u307e\u3059\u3002");else{var t="\u30d1\u30a4\u30d0\u30eb\u30c7\u30fc\u30bf\u3092\u9001\u4fe1\u3057\u307e\u3059\n\u30d1\u30b9\u30ad\u30fc\u3092\u5165\u529b\u3057\u3066\u304f\u3060\u3055\u3044\u3002";if(""===this.state.subject&&(t="\u4ef6\u540d\u304c\u672a\u5165\u529b\u3067\u3059\u3002\n\u73fe\u5728\u6642\u523b\u3092\u4f7f\u7528\u3057\u3066"+t),window.prompt(t,"")===p()){var a={date:this.state.date,winds:this.state.winds};fetch("https://oval-silicon-280513.an.r.appspot.com/manual-post",{method:"POST",headers:{"Content-Type":"application/json"},mode:"cors",body:JSON.stringify(a)}).then((function(e){return e.text()})).then((function(t){"POST obj is saved correctly"===t&&(window.alert("\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u304c\u5b8c\u4e86\u3057\u307e\u3057\u305f"),e.setState({subject:"",body:"",date:new Date,isMorning:!0,winds:[]}))}))}else window.alert("\u30ad\u30e3\u30f3\u30bb\u30eb\u3055\u308c\u307e\u3057\u305f")}}},{key:"render",value:function(){var e=this;return l.a.createElement("div",{className:"flexbox"},l.a.createElement("div",{className:"wrapbox"},l.a.createElement("p",null,"\u30e1\u30fc\u30eb\u306e\u4ef6\u540d\u3092\u8cbc\u308a\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044:"),l.a.createElement("input",{type:"text",value:this.state.subject,placeholder:"ex) Pibal Data released on 05:55 19th Oct.",onChange:function(t){return e.handleChangeSubject(t)},className:"mail-input"}),l.a.createElement("div",null,l.a.createElement("input",{className:"small-input",value:this.state.date.getFullYear(),onChange:function(t){return e.handleChangeSmallInput(t,0)}})," /",l.a.createElement("input",{className:"small-input",value:this.state.date.getMonth()+1,onChange:function(t){return e.handleChangeSmallInput(t,1)}})," /",l.a.createElement("input",{className:"small-input",value:this.state.date.getDate(),onChange:function(t){return e.handleChangeSmallInput(t,2)}}),"\u3000",l.a.createElement("input",{className:"small-input",value:this.state.date.getHours(),onChange:function(t){return e.handleChangeSmallInput(t,3)}})," :",l.a.createElement("input",{className:"small-input",value:this.state.date.getMinutes(),onChange:function(t){return e.handleChangeSmallInput(t,4)}}))),l.a.createElement("div",{className:"wrapbox"},l.a.createElement("p",null,"\u30e1\u30fc\u30eb\u306e\u672c\u6587\u3092\u8cbc\u308a\u4ed8\u3051\u3066\u304f\u3060\u3055\u3044:"),l.a.createElement(h.a,{type:"text",value:this.state.body,placeholder:"ex)\nAlt(m) Deg(from) Spd(kt)\n100m 322\xb0 5.5kt\n200m 334\xb0 13.2kt\n300m 341\xb0 10.0kt",onChange:function(t){e.handleChangeBody(t)},className:"mail-input",maxRows:5}),l.a.createElement("div",{className:"table-dix"},l.a.createElement("table",null,l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Alt.(m)"),l.a.createElement("th",null,"Deg.(\xb0)"),l.a.createElement("th",null,"Spd.(kt)"))),this.state.winds.reverse().map((function(e,t){return l.a.createElement("tbody",{key:"wind-"+t},l.a.createElement("tr",null,l.a.createElement("td",null,e.height),l.a.createElement("td",null,e.degree),l.a.createElement("td",null,e.speed)))}))))),l.a.createElement("div",{style:{width:"100%",marginTop:"20px"}},l.a.createElement("a",{href:"#",onClick:function(){return e.handleClickButton()},className:"btn-square"},"Send!")))}}]),a}(l.a.Component),g=(a(25),function(e){var t=e.match;return l.a.createElement(l.a.Fragment,null,"id: ",t.params.id)});var f=function(){return l.a.createElement(u.a,null,l.a.createElement("div",{className:"App"},l.a.createElement("header",{className:"App-header"},l.a.createElement("p",null,"PibalViewer Uploader")),l.a.createElement("div",{className:"_RoutingArea"},l.a.createElement(c.c,null,l.a.createElement(c.a,{exact:!0,path:"/",component:v}),l.a.createElement(c.a,{path:"/detail/:id",component:g})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));i.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(f,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))}},[[19,1,2]]]);
//# sourceMappingURL=main.2cd63a64.chunk.js.map